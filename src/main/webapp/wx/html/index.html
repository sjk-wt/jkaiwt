<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BMI计算器</title>
    <meta name="view" content="width=device-width,initial-scale=1">

    <link rel="stylesheet" href="../jqmobile/jquery.mobile-1.4.5.min.css">
    <script src="../jqmobile/jquery.js"></script>
    <script src="../jqmobile/jquery.mobile-1.4.5.min.js"></script>
</head>
<body>

    <div data-role="page" id="bmiOne">
        <div data-role="header" data-theme="b">
            <h1>BMI计算器</h1>
        </div>

        <div data-role="content">

            <p id="displayP" style="display: none; color: red">信息缺失！</p>

            <form action="" method="post">
                <label for="mass">体重：</label>
                <input type="text" name="mass" id="mass" placeholder="单位：斤"/>

                <label for="body">身高：</label>
                <input type="text" name="body" id="body" placeholder="单位：厘米"/>

                <a id="reckonBut" data-role="button" data-theme="e">计算</a>
            </form>
        </div>

        <div data-role="footer" data-theme="b" data-position="fixed">
            <h1>技术支持：石佳凯</h1>
        </div>
    </div>

    <div data-role="page" id="bmiTwo">
        <div data-role="header" data-theme="b">
            <a href="#bmiOne" data-role="button" data-icon="back">返回</a>
            <h1>BMI计算器</h1>
        </div>

        <div data-role="content">
            <div data-role="collapsible" data-collapsed="false" data-theme="d" data-content-theme="c" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" data-iconpos="right">
                <h3>计算结果</h3>
                <p>BMI 指数：<span id="bmiIndex"></span></p>
                <p>健康状况：<span id="bmiDesc"></span></p>
            </div>

            <div data-role="collapsible" data-collapsed="false" data-theme="d" data-content-theme="c" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" data-iconpos="right">
                <h3>BMI指数资料</h3>
                <p>偏    瘦：<span style="color: #0000FF">＜18.5</span></p>
                <p>正    常：<span style="color: #08FF06">[18.5, 24)</span></p>
                <p>偏    胖：<span style="color: #FFCC0A">(24, 28]</span></p>
                <p>肥    胖：<span style="color: #FF160A">≥28</span></p>
                <p>理想指数：<span style="color: #08FF06">22</span></p>
                <p>BMI指数计算公式：<span style="color: #69147b">体重(kg) ÷ 身高²(m)</span></p>
            </div>
        </div>

        <div data-role="footer" data-theme="b" data-position="fixed">
            <h1>技术支持：石佳凯</h1>
        </div>
    </div>

</body>
</html>

<script type="text/javascript">

    $(document).ready(function () {
        $("#reckonBut").click(function () {
            var mass = ($("#mass").val() / 2);
            var body = ($("#body").val() / 100);
            if (mass != null && mass != "" && body != null && body != "") {
                var healthy = mass / (body * body);
                $("#bmiIndex").text(healthy);
                if (healthy >= 28) {
                    $("#bmiDesc").text("中国标准提示您体重严重超标，得加强锻炼啊亲！");
                    $("#bmiIndex").css("color", "#FF160A");
                    $("#bmiDesc").css("color", "#FF160A");
                } else if (healthy >= 24 && healthy < 28) {
                    $("#bmiDesc").text("没事没事！只是偏胖，没事多走两步！省钱、锻炼两不误！");
                    $("#bmiIndex").css("color", "#FFCC0A");
                    $("#bmiDesc").css("color", "#FFCC0A");
                } else if (healthy >= 18.5 && healthy < 24) {
                    $("#bmiDesc").text("看来您是个养生的人，指标正常！");
                    $("#bmiIndex").css("color", "#08FF06");
                    $("#bmiDesc").css("color", "#08FF06");
                } else if (healthy < 18.5) {
                    $("#bmiDesc").text("亲，得注重营养了，起风了！");
                    $("#bmiIndex").css("color", "#0000FF");
                    $("#bmiDesc").css("color", "#0000FF");
                }
                $("#reckonBut").attr("href", "#bmiTwo");
                return;
            }
            $("#displayP").css("display", "inline");
        });
    });

</script>